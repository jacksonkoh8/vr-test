<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Physics/Biology Lab Layout</title>
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
</head>

<body>
  <a-scene vr-mode-ui="enabled: false">
    <a-sky color="#000000"></a-sky>
    <a-light type="ambient" color="white" position="0 1 0" intensity="1.8"></a-light>
  
    <a-assets>
       <a-asset-item id="test" src="https://cdn.jsdelivr.net/gh/jacksonkoh8/vr-test@accdde37f8d9ea2227d3066e85a3ad85e4b75f05/test3.gltf"></a-asset-item>
    </a-assets>
  
    <a-entity gltf-model="#test" position="0 0 0" rotation="0 0 0" scale="2 2 2"></a-entity> 
     
<!--     <script>
    AFRAME.registerComponent('log-rotation', {
      tick: function () {
        // Get the rotation of the entity the component is attached to
        var position = this.el.getAttribute('position');
        console.log('Camera position:', position);
        var rotation = this.el.getAttribute('rotation');
        console.log('Camera rotation:', rotation);
      }
    });
    </script> -->

<!--cannot use rotation directly together with look-controls-->
    <a-entity id="cameraRig" position="0 8 10" rotation="-50 0 0">
      <a-entity id="camera" camera spectator="false" look-controls wasd-controls="acceleration:100" log-rotation>
      </a-entity>
    </a-entity>

  </a-scene>
   
  <div id="buttons">
    <label for="camera-positions">Choose Seat:</label>
    <select id="camera-positions">
      <option value="0 8 10,-50 0 0">Top View</option>
      <option value="-5.16 1.7 -4.7,0 121 0">1</option>
      <option value="-2.88 1.7 -3,0 180 0">2</option>
      <option value="-3.26 1.7 1.756,0 0 0">3</option>
    </select>
    <button onclick="changeCameraPosition()">Set</button>
  </div>
  
 <script>
    function changeCameraPosition() {
      // Get the selected option
      var select = document.getElementById('camera-positions');
      var selectedValue = select.value;
      var values = selectedValue.split(',');

      // Extract position and rotation from the selected value
      var newPosition = values[0];
      var newRotation = values[1];

      // Get the cameraRig entity
      var cameraRigEl = document.getElementById('cameraRig');
      // Set the new position and rotation
      cameraRigEl.setAttribute('position', newPosition);
      cameraRigEl.setAttribute('rotation', newRotation);
      
      // Get the camera entity
      var cameraEl = document.getElementById('camera');
      // Set the new position and rotation
      cameraEl.removeAttribute('look-controls')
      cameraEl.setAttribute('rotation', {x:0, y:0, z:0});
      cameraEl.setAttribute('position', {x:0, y:0, z:0});
      cameraEl.setAttribute('look-controls', '')
    }
  </script>

</body>
</html>
      <!-- why button doesn't show up on phone cause of VR mode? -->
      <!-- can use orbit-controls? -->
      <!-- wasd equivalent for VR phone? aframe-twoway-motion -->
      <!-- add static planes in walls -->
      <!-- add body to camera to avoid passing through walls -->
      <!-- add alert for instructions -->
      <!-- floor plan? -->